# ArchDev 3.0 - phpMyAdmin Apache Configuration
# Alias: http://localhost/phpmyadmin

Alias /phpmyadmin "/usr/share/webapps/phpmyadmin"

<Directory "/usr/share/webapps/phpmyadmin">
    DirectoryIndex index.php
    AllowOverride All
    Options FollowSymlinks
    Require all granted
    
    # Security headers
    <IfModule mod_headers.c>
        Header always set X-Frame-Options "SAMEORIGIN"
        Header always set X-Content-Type-Options "nosniff"
        Header always set X-XSS-Protection "1; mode=block"
    </IfModule>
</Directory>

# PHP Configuration for phpMyAdmin
<IfModule php_module>
    <Directory "/usr/share/webapps/phpmyadmin">
        php_admin_value upload_max_filesize 128M
        php_admin_value post_max_size 128M
        php_admin_value max_execution_time 3600
        php_admin_value max_input_time 3600
        php_admin_value memory_limit 512M
    </Directory>
</IfModule>

# Deny access to libraries
<Directory "/usr/share/webapps/phpmyadmin/libraries">
    Require all denied
</Directory>

# Deny access to setup
<Directory "/usr/share/webapps/phpmyadmin/setup">
    Require all denied
</Directory>
